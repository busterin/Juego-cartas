:root{
  --bg1:#0b0f1e; --bg2:#151b36; --ink:#eaf2ff;
  --panel:rgba(255,255,255,.06); --panel-br:rgba(255,255,255,.14);
  --game-max:760px; --gap:10px;
  --hex: 56px; --round-sz: 48px; --meter-sz: 26px;
  --card-w: clamp(72px, 16vw, 110px);
  --card-h: calc(var(--card-w) * 1.42);
  --lanes-gap: 10px; --slot-inset: 6px; --slot-br: 14px;
  --bottom-pad: 10px;
}

*{ box-sizing:border-box }
html,body{ height:100%; margin:0; }
body{
  color:var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background: linear-gradient(180deg, var(--bg1), var(--bg2));
}
#game{
  height: 100dvh; max-width: var(--game-max); margin-inline:auto;
  display:grid;
  grid-template-rows:auto auto minmax(0,1fr) auto auto;
  gap: var(--gap);
  padding:6px 8px calc(var(--bottom-pad) + env(safe-area-inset-bottom));
  overflow:hidden;
}

/* ===== HUD ===== */
.top-hud{ display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:6px; }
.portrait{ display:grid; grid-template-columns:auto 1fr; gap:6px; align-items:center; }
.frame.hex{ width:var(--hex); height:calc(var(--hex)*1.1); overflow:hidden; border-radius:8px; }
.frame.hex img{ width:100%; height:100%; object-fit:cover; }
.round-display{ display:flex; justify-content:center; align-items:center; }
.round-no{ width:var(--round-sz); height:var(--round-sz); border-radius:50%; display:grid; place-items:center; background:#6be2ff; color:#061018; font-weight:900; }

/* ===== Banner ===== */
.banner{ text-align:center; font-weight:800; }

/* ===== Tablero: 1 l√≠nea por lado ===== */
.board{ display:grid; grid-template-rows:1fr 1fr; gap:var(--gap); min-height:0; }
.row{ display:grid; grid-template-rows:1fr; min-height:0; }
.lanes-3x1{ display:grid; grid-template-columns:repeat(3,1fr); gap:var(--lanes-gap); height:100%; min-height:0; }
.slot{ border:2px dashed rgba(255,255,255,.3); border-radius:var(--slot-br); position:relative; overflow:hidden; }
.placed{ position:absolute; inset:var(--slot-inset); border-radius:10px; overflow:hidden; background:#0f1633; }
.placed .art, .placed .art img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }

/* ===== Mano ===== */
.hand-zone{ height: calc(var(--card-h) + 12px); min-height:0; position:relative; z-index:2; }
.hand{ position:relative; width:100%; height:100%; }
.hand .card{ position:absolute; bottom:0; left:50%; width:var(--card-w); height:var(--card-h); }

/* ===== Botones ===== */
.bottom-bar{ display:flex; justify-content:center; gap:10px; padding:8px; }
.btn{ border:1px solid var(--panel-br); background:var(--panel); padding:9px 14px; border-radius:12px; color:#eaf2ff; cursor:pointer; }
.btn.primary{ background:#3b8cff; font-weight:900; }
.btn.big{ font-size:1.4rem; padding:14px 28px; border-radius:14px; background:#3b8cff; color:#fff; font-weight:900; }

/* ===== Overlays ===== */
.overlay{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.7); opacity:0; pointer-events:none; transition:.2s; z-index:100; }
.overlay.visible{ opacity:1; pointer-events:auto; }

/* Portada (full screen y adaptativa) */
.cover-screen{ position:relative; width:100%; height:100dvh; }
.cover-bg{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
.cover-screen .btn.big{ position:absolute; bottom:10%; left:50%; transform:translateX(-50%); z-index:2; }

/* Zoom carta (limpio) */
.zoom-panel{ width:min(94%, 560px); }
.zoom-card{ margin:auto; width: clamp(240px, 72vw, 460px); aspect-ratio:5/7; border-radius:14px; overflow:hidden; position:relative; border:1px solid rgba(255,255,255,.22); background:#0b0f1e; }
.zoom-card .art img{ width:100%; height:100%; object-fit:contain; }

/* Ocultar contenedor toasts si no se usa */
#toasts{ display:none; }